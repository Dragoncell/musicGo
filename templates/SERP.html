{% extends "layout.html" %} {% block title %}Search Result Page{% endblock %} {% block body %}
<body>
    <div class="container">
        <div class="jumbotron">
            <h1 class="display-3">Description:</h1>
            <form class="" action="./" method="post">
                <div class="form-group">
                    <textarea name="query" rows="3" placeholder="type some words for conjunctive query" style="font-size:150%" class="form-control"></textarea>
                </div>
                <div class="form-group row">
                    <label for="example-text-input2" class="col-sm-2 col-form-label">Artist:</label>
                    <div class="col-sm-6">
                        <input type="text" class="form-control" name="artist" id="example-text-input2">
                    </div>
                </div>
                <div class="form-group row">
                    <label for="sel1" class="col-sm-2 col-form-label">Genre:</label>
                    <div class="col-sm-6">
                      <select class="form-control" id="sel1" name="genre">
                        <option></option>
                        <option>Jazz</option>
                        <option>Hip hop</option>
                        <option>Punk rock</option>
                        <option>Pop</option>
                        <option>Blues</option>
                        <option>Reggae</option>
                        <option>Country</option>
                        <option>Funk</option>
                        <option>Folk</option>
                        <option>Rapping</option>

                      </select>
                    </div>
                </div>
                <br>
                <button type="submit" class="btn btn-primary">Submit</button>
            </form>
        </div>
    </div>
    <div class="container">
        {% if noMatch: %} {% if not invalid: %}
        <h2>No Results! Try again!</h2> {% else: %}
        <h2>Unknown search term:{% for e in invalid: %}<em>{{e}} </em>{% endfor %}</h2> {% endif %} {% else: %}
        <h2>Here are the results:</h2>
        <h2>Ignoring term:{% for e in query_stop_words:%}<em>{{e}} </em>{% endfor %}</h2> {{ pagination.info }} {{ pagination.links }} {% if results|length
        <=page*per_page %} {% for i in range((page-1)*per_page,results|length): %} <!-- <p>Document Number:{{k}}</p> -->
            <div class="container">
                <p>-------------------------------------------------------------------------------------------------------------</p>
                <h3>Result #{{ i+1 }}</h3>
                <h3><a href={{ "./"+results[i][0]}}>Document Title:<strong>{{results[i][1]['title']}}</strong></a></h3>
                <h4>Score:<strong>{{results[i][1]['score'] or score[i]}}</strong></h4>
                <h4>Document Text:</h4>
                <div class="comment more">
                    {{results[i][1]['text']}}
                </div>
            </div>

            {% endfor %} {{ pagination.links }} {% else: %} {% for i in range((page-1)*per_page,page*per_page): %}
            <div class="container">
                <p>-------------------------------------------------------------------------------------------------------------</p>
                <h3>Result #{{ i+1 }}</h3>
                <h3><a href={{ "./"+results[i][0]}}>Document Title:<strong>{{results[i][1]['title']}}</strong></a></h3>
                <h4>Score:<strong>{{results[i][1]['score'] or score[i]}}</strong></h4>
                <h4>Document Text:</h4>
                <div class="comment more">
                    {{results[i][1]['text']}}
                </div>
            </div>
            {% endfor %} {{ pagination.links }} {% endif %} {% endif %}
    </div>
</body>
<script type="text/javascript">
    $(".comment").shorten({"showChars": 450});
    $(document).ready(function() {$(".comment").shorten();});
</script>
{% endblock %}
